@if (isLoading) {
<div class="d-flex justify-content-center mt-5">
  <app-loading-spinner />
</div>
} @else {
<form
  [formGroup]="form"
  (ngSubmit)="onSubmit()"
  class="d-flex justify-content-center"
>
  <div class="d-flex flex-column w-75">
    <h2 class="text-center">{{ isLoginMode ? "Log In" : "Sign Up" }}</h2>
    @if(error){
    <div class="alert alert-danger">
      {{ error }}
    </div>
    }
    <mat-form-field>
      <mat-label>Enter your email</mat-label>
      <input
        matInput
        placeholder="name@example.com"
        (blur)="updateErrorMessage()"
        formControlName="email"
      />
    </mat-form-field>
    <mat-form-field>
      <mat-label>Enter your password</mat-label>
      <input
        matInput
        [type]="hide() ? 'password' : 'text'"
        formControlName="password"
      />
    </mat-form-field>

    <div class="d-flex justify-content-center">
      <button class="btn btn-primary" [disabled]="form.invalid" type="submit">
        {{ isLoginMode ? "Log In" : "Sign Up" }}
      </button>
      <button class="mx-3 btn btn-secondary" (click)="onSwitchMode()">
        {{ isLoginMode ? "Sign Up" : "Log In" }}
      </button>
    </div>
  </div>
</form>
}
